<div class="file-upload">
  <h3>Upload a File</h3>
  
  <!-- File Input Section -->
  <div class="file-input-container">
    <input 
      id="csvFileInput"
      type="file" 
      accept=".csv" 
      class="form-control"
      (change)="onFileSelect($event)"
      [disabled]="isProcessing">

    
  <!-- Options section - shown when file is selected -->
  <div *ngIf="selectedFile" class="options-section">
    <!-- Header checkbox -->
    <div class="option-item">
      <label class="option-label">
        <input 
          type="checkbox" 
          [(ngModel)]="hasHeader" 
          (change)="onHeaderCheckboxChange()" 
          [disabled]="isProcessing"
          class="option-checkbox">  
        File has a header line
      </label>
    </div>

     
    <!-- Skip empty lines checkbox -->
    <div class="option-item">
      <label class="option-label">
        <input 
          type="checkbox" 
          [(ngModel)]="skipEmptyLines" 
          (change)="onSkipEmptyLinesChange()" 
          [disabled]="isProcessing"
          class="option-checkbox"> 
        Skip empty lines
      </label>
    </div>

    <!-- Delimiter selection dropdown -->
    <div class="option-item">
      <label class="option-label">
        <span class="option-text">Delimiter:</span>
        <select 
          [(ngModel)]="selectedDelimiter" 
          (change)="onDelimiterChange()" 
          [disabled]="isProcessing"
          class="delimiter-select">
          <option *ngFor="let option of delimiterOptions" [value]="option.value">
            {{option.label}}
          </option>
        </select>
      </label>
    </div>

    <!-- Double quote wrap checkbox -->
    <div class="option-item">
      <label class="option-label">
        <input 
          type="checkbox" 
          [(ngModel)]="doubleQuoteWrap" 
          (change)="onDoubleQuoteWrapChange()" 
          [disabled]="isProcessing"
          class="option-checkbox"> 
        Double Quote Wrap
      </label>
    </div>
  
  
    <!-- Cancel Button - shown when file is selected -->
    <button 
      *ngIf="selectedFile && !isProcessing" 
      class="cancel-btn"
      (click)="clearSelection()"
      title="Remove selected file and clear data">
      âœ•
    </button>
  </div>
  
  <!-- File Status Display -->
  <div class="file-status">
    <p *ngIf="!selectedFile && !isProcessing" class="help-text">
    </p>
    
    <p *ngIf="selectedFile && !isProcessing" class="selected-file">
      Selected: <strong>{{selectedFile.name}}</strong> 
      <span class="file-size">({{(selectedFile.size / 1024).toFixed(1)}} KB)</span>
    </p>
    
    <p *ngIf="isProcessing" class="processing">
      Processing <strong>{{selectedFile?.name}}</strong>...
    </p>
  </div>
</div>
